<!doctype html>
<html>
<head>
    <title>Getting Started Extension's Popup</title>
    <link href="bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet" />
    <link href="bootstrap-3.3.7/css/bootstrap-theme.min.css" rel="stylesheet" />
    <link href="css/popup.css" rel="stylesheet" />
    <!--
      - JavaScript and HTML must be in separate files: see our Content Security
      - Policy documentation[1] for details and explanation.
      -
      - [1]: http://developer.chrome.com/extensions/contentSecurityPolicy.html
     -->
    <script src="popup.js"></script>

</head>
<body ng-app="app" ng-controller="popupController as vm">
    <div class="panel panel-default">
        <div class="panel-heading"><a href="http://project.kimx.info/2016/11/jk-keyboard.html" target="_blank" title="My Blog"><img src="img/icon.png" height="18" /> <span locale-id="extName">JK日語小鍵盤</span></a>
      <span class="pull-right">v{{vm.Version}}</span>
        </div>
        <div class="panel-body" ng-init="vm.Init();">
            <div class="row" style="padding-bottom:10px">
                <div class="col-xs-8">
                    <label class="radio-inline">
                        <input type="radio" name="hkType" value="0" ng-model="vm.HkType" ng-click="vm.KeepHkType(0)"> <span locale-id="hkType0">平假名</span>
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="hkType" value="1" ng-model="vm.HkType" ng-click="vm.KeepHkType(1)"> <span locale-id="hkType1">片假名</span>
                    </label>
                </div>
                <div class="col-xs-4">
                    <a class="history" ng-click="vm.HistoryClear();" title="清除歷史資料">
                        <span class="glyphicon glyphicon-equalizer"></span> <span locale-id="historyData">歷史資料</span>
                    </a>
                </div>
            </div>
     
            <div class="row">
                <div class="col-xs-8">
                    <div class="nav-tabs-custom">
                       <!-- Nav tabs -->
                        <ul class="nav nav-tabs" role="tablist">
                            <li ng-click="vm.KeepTab('#home')" role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab"><span locale-id="seiOn">清音</span></a></li>
                            <li ng-click="vm.KeepTab('#profile')" role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab"><span locale-id="dakuOn">濁音</span></a></li>
                            <li ng-click="vm.KeepTab('#messages')" role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab"><span locale-id="yoOn">拗音</span></a></li>
                            <li ng-click="vm.KeepTab('#special')" role="presentation"><a href="#special" aria-controls="special" role="tab" data-toggle="tab"><span locale-id="special">特殊字元</span></a></li>
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active" id="home" style="max-width:350px">
                                <div class="btn-group" ng-repeat="word in words= vm.RetrieveData(100)">
                                    <button ng-disabled="word.Id==0" jk-button="hiraWord.Id" class="btn" ng-class="{true: 'btn-primary', false: 'btn-default'}[word.Selected]" ng-click="vm.AppendInput(word)">{{word.Text}}</button>
                                    <button ng-disabled="word.Id==0" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                        <span class="caret"></span>
                                        <span class="sr-only">Toggle Dropdown</span>
                                    </button>
                                    <ul class="dropdown-menu" role="menu">
                                        <li ng-repeat="item in items= vm.GetRelations(word)" class="cursor">
                                            <a ng-click="vm.AppendInput(item)">{{item.Text}} <span class="badge">{{item.Descript}}</span></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="profile" style="max-width:350px">
                                <div class="btn-group" ng-repeat="word in words= vm.RetrieveData(300)">
                                    <button ng-disabled="word.Id==0" jk-button="hiraWord.Id"  class="btn" ng-class="{true: 'btn-primary', false: 'btn-default'}[word.Selected]" ng-click="vm.AppendInput(word)">{{word.Text}}</button>
                                    <button ng-disabled="word.Id==0" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                        <span class="caret"></span>
                                        <span class="sr-only">Toggle Dropdown</span>
                                    </button>
                                    <ul class="dropdown-menu" role="menu">
                                        <li ng-repeat="item in items= vm.GetRelations(word)" class="cursor">
                                            <a ng-click="vm.AppendInput(item)">{{item.Text}} <span class="badge">{{item.Descript}}</span></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="messages" style="max-width:250px">
                                <div class="btn-group" ng-repeat="word in words= vm.RetrieveData(400)">
                                    <button ng-disabled="word.Id==0" jk-button="hiraWord.Id" class="btn" ng-class="{true: 'btn-primary', false: 'btn-default'}[word.Selected]" ng-click="vm.AppendInput(word)">{{word.Text}}</button>
                                    <button ng-disabled="word.Id==0" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                        <span class="caret"></span>
                                        <span class="sr-only">Toggle Dropdown</span>
                                    </button>
                                    <ul class="dropdown-menu" role="menu">
                                        <li ng-repeat="item in items= vm.GetRelations(word)" class="cursor">
                                            <a ng-click="vm.AppendInput(item)">{{item.Text}} <span class="badge">{{item.Descript}}</span></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div role="tabpanel" class="tab-pane" id="special" style="max-width:250px">
                                <div class="btn-group" ng-repeat="word in words= vm.RetrieveData(500)">
                                    <button ng-disabled="word.Id==0" jk-button="hiraWord.Id" class="btn" ng-class="{true: 'btn-primary', false: 'btn-default'}[word.Selected]" ng-click="vm.AppendInput(word)">{{word.Text}}</button>


                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-xs-4">
                    <span class="label label-info" style="margin-right:3px;cursor:pointer;display:inline-block" ng-repeat="h in vm.HistoryWords"
                          ng-click="vm.HistoryToInput(h)">{{h}}</span>
                </div>
            </div>
            
        </div>
        <div class="panel-footer">
            <div class="row" >
                <div class="col-xs-5">
                    <input id="mainInput" type="text" class="form-control" ng-model="vm.InputWord" ng-change="vm.InputChanged()" />
                </div>

                <div class="col-xs-7">
                    <button class="btn btn-primary" ng-click="vm.Translate()"><span class="glyphicon glyphicon-jpy"></span> <span locale-id="translate">翻譯</span></button>
                    <button class="btn btn-info" ng-click="vm.Copy()"><span class="glyphicon glyphicon-copy"></span> <span locale-id="copy">複製</span></button>
                    <button class="btn btn-default" ng-click="vm.Clear()"><span class="glyphicon glyphicon-remove"></span> <span locale-id="clean">清除</span></button>
                </div>
            </div>
        </div>
    </div>

    <script src="lib/jquery-2.2.4.min.js"></script>
    <script src="lib/angular.min.js"></script>
    <script src="bootstrap-3.3.7/js/bootstrap.min.js"></script>

</body>
</html>
